<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>æ—¥æœ¬ã®ç”Ÿæ´»(ä»®)</title>
<style>
  body { font-family: sans-serif; background: #FFEFD5; text-align: center; padding: 10px 5px; }
  .category-btn, #next, #restart {
    padding: 14px 28px; font-size: 1.3em; margin: 10px auto; max-width: 300px; background-color: orange;
    color: white; border: none; border-radius: 12px; cursor: pointer; white-space: pre-line; display: block;
  }
  .choice {
    display: block; margin: 8px auto; padding: 14px 16px; font-size: 1.2em; max-width: 90vw;
    background-color: #ADD8E6; border-radius: 12px; position: relative; cursor: pointer;
    white-space: pre-wrap; text-align: left; word-break: break-word;
  }
  .chosen { background-color: #87b4cc; }
  .disabled { pointer-events: none; }
  .mark {
    position: absolute; top: 50%; left: 20px; transform: translateY(-50%);
    font-size: 2em; font-weight: bold; color: red;
  }
.speaker-icon {
  cursor: pointer;
  font-size: 1.5em;
  color: #444;
  position: absolute;
  right: 12px;
  top: 50%;
  transform: translateY(-50%);
}

  .explanation {
    margin-top: 20px; white-space: pre-wrap; color: #444; text-align: left;
    max-width: 90vw; margin-left: auto; margin-right: auto;
  }
  #timer { font-size: 1.1em; margin-top: 10px; }
  @keyframes fall {
    0% { transform: translateY(-50px) rotate(0deg); opacity: 0.8; }
    100% { transform: translateY(100vh) rotate(360deg); opacity: 0; }
  }
  .sakura {
    position: fixed; top: -50px; font-size: 24px; pointer-events: none;
    color: pink; animation: fall linear 12s; z-index: 9999;
  }
</style>
</head>
<body>
<h1>æ—¥æœ¬ã®ç”Ÿæ´»(ä»®)</h1>
<div id="container"></div>
<div id="timer">æ™‚é–“: 0ç§’</div>
<script>
const allQuestions = {
  "å®Ÿç¿’ç”Ÿç”Ÿæ´»ç·¨\nà¸«à¸¡à¸§à¸”à¸Šà¸µà¸§à¸´à¸•à¸œà¸¹à¹‰à¸à¸¶à¸à¸‡à¸²à¸™": [
    {
      "question": "ä»Šæ—¥ã¯ä¼šç¤¾ã«å…¥ã‚‹åˆæ—¥ã§ã™ã€‚ã¿ãªã•ã‚“ã«ä½•ã¨æŒ¨æ‹¶ã—ã¾ã™ã‹ã€‚\nà¸§à¸±à¸™à¸™à¸µà¹‰à¹€à¸›à¹‡à¸™à¸§à¸±à¸™à¹à¸£à¸à¸—à¸µà¹ˆà¸„à¸¸à¸“à¹€à¸‚à¹‰à¸²à¸—à¸³à¸‡à¸²à¸™à¸—à¸µà¹ˆà¸šà¸£à¸´à¸©à¸±à¸— à¸„à¸¸à¸“à¸ˆà¸°à¸—à¸±à¸à¸—à¸²à¸¢à¸—à¸¸à¸à¸„à¸™à¸§à¹ˆà¸²à¸­à¸¢à¹ˆà¸²à¸‡à¹„à¸£?",
      "correct": [
        "ã¯ã˜ã‚ã¾ã—ã¦ã€‚ï¼¿ï¼¿ï¼¿ã¨ã€€ã‚‚ã†ã—ã¾ã™ã€‚ã“ã‚Œã‹ã‚‰ãŠã›ã‚ã«ãªã‚Šã¾ã™ã€‚ã©ã†ãã‚ˆã‚ã—ããŠã­ãŒã„ã—ã¾ã™ã€‚"
      ],
      "choices": [
        "ã—ã¤ã‚Œã„ã—ã¾ã—ãŸã€‚ï¼¿ï¼¿ï¼¿ã¨ã€€ã‚‚ã†ã—ã¾ã™ã€‚ã“ã‚Œã‹ã‚‰ãŠã›ã‚ã«ãªã‚Šã¾ã™ã€‚ã©ã†ãã‚ˆã‚ã—ããŠã­ãŒã„ã—ã¾ã™ã€‚",
        "ã¯ã˜ã‚ã¾ã—ã¦ã€‚ï¼¿ï¼¿ï¼¿ã¨ã€€ã‚‚ã†ã—ã¾ã™ã€‚ã“ã‚Œã‹ã‚‰ãŠã›ã‚ã«ãªã‚Šã¾ã™ã€‚ã©ã†ãã‚ˆã‚ã—ããŠã­ãŒã„ã—ã¾ã™ã€‚",
        "ãŠã¤ã‹ã‚Œã•ã¾ã§ã—ãŸã€‚ï¼¿ï¼¿ï¼¿ã¨ã€€ã‚‚ã†ã—ã¾ã™ã€‚ã“ã‚Œã‹ã‚‰ãŠã›ã‚ã«ãªã‚Šã¾ã™ã€‚ã©ã†ãã‚ˆã‚ã—ããŠã­ãŒã„ã—ã¾ã™ã€‚",
        "ãŠã²ã•ã—ã¶ã‚Šã§ã™ã€‚ï¼¿ï¼¿ï¼¿ã¨ã€€ã‚‚ã†ã—ã¾ã™ã€‚ã“ã‚Œã‹ã‚‰ãŠã›ã‚ã«ãªã‚Šã¾ã™ã€‚ã©ã†ãã‚ˆã‚ã—ããŠã­ãŒã„ã—ã¾ã™ã€‚"
      ],
      "explanation": null
    },
    {
      "question": "ã‚ãªãŸã¯ã€€ç†±ãŒã€€ã‚ã‚‹ã®ã§ã€€ä»•äº‹ã‚’ã€€ä¼‘ã¿ãŸã„ã§ã™ã€‚é›»è©±ã§ã€€ä¸Šå¸ã«ã€€ä½•ã¨ã€€è¨€ã„ã¾ã™ã‹ã€‚\nà¸„à¸¸à¸“à¸¡à¸µà¹„à¸‚à¹‰ à¸ˆà¸¶à¸‡à¸­à¸¢à¸²à¸à¸«à¸¢à¸¸à¸”à¸‡à¸²à¸™ à¸„à¸¸à¸“à¸ˆà¸°à¸à¸¹à¸”à¸à¸±à¸šà¸«à¸±à¸§à¸«à¸™à¹‰à¸²à¸—à¸²à¸‡à¹‚à¸—à¸£à¸¨à¸±à¸à¸—à¹Œà¸§à¹ˆà¸²à¸­à¸¢à¹ˆà¸²à¸‡à¹„à¸£?",
      "correct": [
        "ã™ã¿ã¾ã›ã‚“ã€‚ã˜ã£ã—ã‚…ã†ã›ã„ã®ï¼¿ï¼¿ï¼¿ã§ã™ã€‚ã„ã¾ã€ã¡ã‚‡ã£ã¨ã€€ã‚ˆã‚ã—ã„ã§ã—ã‚‡ã†ã‹ã€‚ã€€ãã‚‡ã†ã€€ã­ã¤ãŒã‚ã‚‹ã®ã§ã€€ã—ã”ã¨ã‚’ã€€ã‚„ã™ã¾ã›ã¦ã„ãŸã ã‘ã¾ã›ã‚“ã‹ã€‚"
      ],
      "choices": [
        "ã™ã¿ã¾ã›ã‚“ã€‚ã˜ã£ã—ã‚…ã†ã›ã„ã®ï¼¿ï¼¿ï¼¿ã§ã™ã€‚ã„ã¾ã€ã¡ã‚‡ã£ã¨ã€€ã‚ˆã‚ã—ã„ã§ã—ã‚‡ã†ã‹ã€‚ã€€ãã‚‡ã†ã€€ã­ã¤ãŒã‚ã‚‹ã®ã§ã€€ã—ã”ã¨ã‚’ã€€ã‚„ã™ã¾ã›ã¦ã„ãŸã ã‘ã¾ã›ã‚“ã‹ã€‚",
        "ã™ã¿ã¾ã›ã‚“ã€‚ã˜ã£ã—ã‚…ã†ã›ã„ã®ï¼¿ï¼¿ï¼¿ã§ã™ã€‚ã„ã¾ã€ã¡ã‚‡ã£ã¨ã€€ã‚ˆã‚ã—ã„ã§ã—ã‚‡ã†ã‹ã€‚ã€€ãã‚‡ã†ã€€ã­ã¤ãŒã‚ã‚‹ã®ã§ã€€ã—ã”ã¨ã‚’ã€€ã‚„ã™ã‚‚ã†ã¨ãŠã‚‚ã£ã¦ã„ã¾ã™ã€‚",
        "ã™ã¿ã¾ã›ã‚“ã€‚ã˜ã£ã—ã‚…ã†ã›ã„ã®ï¼¿ï¼¿ï¼¿ã§ã™ã€‚ã„ã¾ã€ã¡ã‚‡ã£ã¨ã€€ã‚ˆã‚ã—ã„ã§ã—ã‚‡ã†ã‹ã€‚ã€€ãã‚‡ã†ã€€ã­ã¤ãŒã‚ã‚‹ã®ã§ã€€ã—ã”ã¨ã‚’ã€€ã‚„ã™ã¿ã¾ã™ã€‚",
        "à¹„à¸¡à¹ˆà¸ˆà¸³à¹€à¸›à¹‡à¸™à¹‚à¸—à¸£à¸šà¸­à¸à¸«à¸±à¸§à¸«à¸™à¹‰à¸² à¸à¸²à¸à¹€à¸à¸·à¹ˆà¸­à¸™à¸šà¸­à¸à¸«à¸±à¸§à¸«à¸™à¹‰à¸²"
      ],
      "explanation": null
    },
    {
      "question": "ä»•äº‹ä¸­ã«å¤±æ•—ã‚’ã—ã¦ã—ã¾ã„ã¾ã—ãŸã€‚ä¸Šå¸ã«ä½•ã¨è¨€ã„ã¾ã™ã‹ã€‚ï¼ˆæ­£ç­”2ã¤ï¼‰\nà¸—à¸³à¸‡à¸²à¸™à¸œà¸´à¸”à¸à¸¥à¸²à¸”à¸£à¸°à¸«à¸§à¹ˆà¸²à¸‡à¹€à¸§à¸¥à¸²à¸‡à¸²à¸™ à¸„à¸§à¸£à¸à¸¹à¸”à¸à¸±à¸šà¸«à¸±à¸§à¸«à¸™à¹‰à¸²à¸¢à¸±à¸‡à¹„à¸‡à¸”à¸µ?(à¸„à¸³à¸•à¸­à¸šà¸—à¸µà¹ˆà¸–à¸¹à¸à¸•à¹‰à¸­à¸‡2à¸‚à¹‰à¸­)",
      "correct": [
        "ã™ã¿ã¾ã›ã‚“ã§ã—ãŸã€‚ã“ã‚Œã‹ã‚‰ã€€ãã‚’ã¤ã‘ã¾ã™ã€‚",
        "ã™ã¿ã¾ã›ã‚“ã§ã—ãŸã€‚ã“ã‚Œã‹ã‚‰ã€€ã¡ã‚…ã†ã„ã—ã¾ã™ã€‚"
      ],
      "choices": [
        "ã™ã¿ã¾ã›ã‚“ã§ã—ãŸã€‚ã“ã‚Œã‹ã‚‰ã€€ã¡ã‚…ã†ã„ã—ã¾ã—ã‚‡ã†ã€‚",
        "ã™ã¿ã¾ã›ã‚“ã§ã—ãŸã€‚ã“ã‚Œã‹ã‚‰ã€€ã¡ã‚…ã†ã„ã—ã¾ã™ã€‚",
        "ã™ã¿ã¾ã›ã‚“ã§ã—ãŸã€‚ã“ã‚Œã‹ã‚‰ã€€ãã‚’ã€€ã¤ã‘ã¦ãã ã•ã„ã€‚",
        "ã™ã¿ã¾ã›ã‚“ã§ã—ãŸã€‚ã“ã‚Œã‹ã‚‰ã€€ãã‚’ã¤ã‘ã¾ã™ã€‚"
      ],
      "explanation": null
    },
    {
      "question": "ã‚ãªãŸã¯ä»•äº‹ä¸­ã«ã©ã†ã—ã¦ã‚‚ãƒˆã‚¤ãƒ¬ã«è¡ŒããŸããªã‚Šã¾ã—ãŸã€‚ä¸Šå¸ã«ä½•ã¨è¨€ã„ã¾ã™ã‹ã€‚ï¼ˆæ­£ç­”2ã¤ï¼‰\nà¸‚à¸“à¸°à¸—à¸³à¸‡à¸²à¸™ à¸„à¸¸à¸“à¸£à¸¹à¹‰à¸ªà¸¶à¸à¸›à¸§à¸”à¸—à¹‰à¸­à¸‡à¸ˆà¸™à¸•à¹‰à¸­à¸‡à¹„à¸›à¹€à¸‚à¹‰à¸²à¸«à¹‰à¸­à¸‡à¸™à¹‰à¸³à¹ƒà¸«à¹‰à¹„à¸”à¹‰ à¸„à¸¸à¸“à¸ˆà¸°à¸à¸¹à¸”à¸à¸±à¸šà¸«à¸±à¸§à¸«à¸™à¹‰à¸²à¸­à¸¢à¹ˆà¸²à¸‡à¹„à¸£?(à¸„à¸³à¸•à¸­à¸šà¸—à¸µà¹ˆà¸–à¸¹à¸à¸•à¹‰à¸­à¸‡2à¸‚à¹‰à¸­)",
      "correct": [
        "ã™ã¿ã¾ã›ã‚“ãŒã€ãƒˆã‚¤ãƒ¬ã«ã€€ã„ã‹ã›ã¦ã„ãŸã ã‘ã¾ã›ã‚“ã‹ã€‚",
        "ã™ã¿ã¾ã›ã‚“ãŒã€ãƒˆã‚¤ãƒ¬ã«ã€€ã„ã‹ã›ã¦ãã ã•ã„ã¾ã›ã‚“ã‹ã€‚"
      ],
      "choices": [
        "ã™ã¿ã¾ã›ã‚“ãŒã€ãƒˆã‚¤ãƒ¬ã«ã€€ã„ã£ã¦ã„ãŸã ã‘ã¾ã›ã‚“ã‹ã€‚",
        "ã™ã¿ã¾ã›ã‚“ãŒã€ãƒˆã‚¤ãƒ¬ã«ã€€ã„ã‹ã›ã¦ãã ã•ã„ã¾ã›ã‚“ã‹ã€‚",
        "ã™ã¿ã¾ã›ã‚“ãŒã€ãƒˆã‚¤ãƒ¬ã«ã€€ã„ã‹ã›ã¦ã„ãŸã ã‘ã¾ã›ã‚“ã‹ã€‚",
        "ã™ã¿ã¾ã›ã‚“ãŒã€ãƒˆã‚¤ãƒ¬ã«ã€€ã„ã£ã¦ã‚‚ã„ã„ã§ã™ã‹ã€‚"
      ],
      "explanation": "ã“ã“ã«è§£èª¬ã‚’è¡¨ç¤ºã—ã¾ã™\nà¸„à¸³à¸­à¸˜à¸´à¸šà¸²à¸¢: à¹à¸ªà¸”à¸‡à¸„à¸³à¸­à¸˜à¸´à¸šà¸²à¸¢à¸•à¸£à¸‡à¸™à¸µà¹‰"
    },
    {
      "question": "ã‚ãªãŸã¯ã€€ä»•äº‹ä¸­ã«ã€€ç†±ãŒå‡ºã¦ã€€ä½“èª¿ãŒã€€æ‚ªããªã‚Šã¾ã—ãŸã€‚æ—©é€€ã—ãŸã„ã§ã™ã€‚ä¸Šå¸ã«ã€€ä½•ã¨ã€€è¨€ã„ã¾ã™ã‹ã€‚\nà¸„à¸¸à¸“à¸¡à¸µà¹„à¸‚à¹‰à¹à¸¥à¸°à¸£à¸¹à¹‰à¸ªà¸¶à¸à¹„à¸¡à¹ˆà¸ªà¸šà¸²à¸¢à¸£à¸°à¸«à¸§à¹ˆà¸²à¸‡à¸—à¸³à¸‡à¸²à¸™ à¸­à¸¢à¸²à¸à¸à¸¥à¸±à¸šà¸šà¹‰à¸²à¸™à¸à¹ˆà¸­à¸™ à¸„à¸¸à¸“à¸ˆà¸°à¸à¸¹à¸”à¸à¸±à¸šà¸«à¸±à¸§à¸«à¸™à¹‰à¸²à¸¢à¸±à¸‡à¹„à¸‡?",
      "correct": [
        "ã™ã¿ã¾ã›ã‚“ã€ã­ã¤ãŒã€€ã‚ã‚‹ã®ã§ã€€ãã†ãŸã„ã•ã›ã¦ã„ãŸã ã‘ã¾ã›ã‚“ã‹ã€‚"
      ],
      "choices": [
        "ã™ã¿ã¾ã›ã‚“ã€ã­ã¤ãŒã€€ã‚ã‚‹ã®ã§ã€€ã‚Šã‚‡ã†ã«ã€€ã‹ãˆã‚Šã¾ã™ã€‚",
        "ã™ã¿ã¾ã›ã‚“ã€ã­ã¤ãŒã€€ã‚ã‚‹ã®ã§ã€€ãã†ãŸã„ã™ã‚‹ã“ã¨ã«ã—ã¾ã—ãŸã€‚",
        "ã™ã¿ã¾ã›ã‚“ã€ã­ã¤ãŒã€€ã‚ã‚‹ã®ã§ã€€ã‹ã„ã—ã‚ƒã‚’ã€€ã‚„ã‚ã¦ã‚‚ã„ã„ã§ã™ã‹ã€‚",
        "ã™ã¿ã¾ã›ã‚“ã€ã­ã¤ãŒã€€ã‚ã‚‹ã®ã§ã€€ãã†ãŸã„ã•ã›ã¦ã„ãŸã ã‘ã¾ã›ã‚“ã‹ã€‚"
      ],
      "explanation": null
    },
    {
      "question": "ä½“èª¿ãŒæ‚ªã„ã§ã™ãŒã€ä¸€äººã§ç—…é™¢ã«è¡Œãã“ã¨ãŒã§ãã¾ã›ã‚“ã€‚çµ„åˆã®æ–¹ã«ä½•ã¨è¨€ãˆã°ã„ã„ã§ã™ã‹ã€‚\nà¸„à¸¸à¸“à¸£à¸¹à¹‰à¸ªà¸¶à¸à¹„à¸¡à¹ˆà¸ªà¸šà¸²à¸¢ à¹à¸•à¹ˆà¹„à¸¡à¹ˆà¸ªà¸²à¸¡à¸²à¸£à¸–à¹„à¸›à¹‚à¸£à¸‡à¸à¸¢à¸²à¸šà¸²à¸¥à¸„à¸™à¹€à¸”à¸µà¸¢à¸§à¹„à¸”à¹‰ à¸„à¸§à¸£à¸šà¸­à¸à¸à¸±à¸šà¹€à¸ˆà¹‰à¸²à¸«à¸™à¹‰à¸²à¸—à¸µà¹ˆà¸ªà¸«à¸à¸£à¸“à¹Œà¸§à¹ˆà¸²à¸­à¸¢à¹ˆà¸²à¸‡à¹„à¸£?",
      "correct": [
        "ã™ã¿ã¾ã›ã‚“ãŒã€ã²ã¨ã‚Šã§ã€€ã„ã‘ãªã„ã®ã§ã€€ã³ã‚‡ã†ã„ã‚“ã¸ã€€ã¤ã‚Œã¦ã„ã£ã¦ã„ãŸã ã‘ã¾ã›ã‚“ã‹ã€‚"
      ],
      "choices": [
        "ã™ã¿ã¾ã›ã‚“ãŒã€ã©ã†ã‚„ã£ã¦ã€€ã³ã‚‡ã†ã„ã‚“ã¸ã€€ã„ãã¾ã™ã‹ã€‚",
        "ã™ã¿ã¾ã›ã‚“ãŒã€ã³ã‚‡ã†ã„ã‚“ã®ã€€ã„ãã‹ãŸã‚’ã€€ãŠã—ãˆã¾ã—ã‚‡ã†ã‹ã€‚",
        "ã™ã¿ã¾ã›ã‚“ãŒã€ã‚ãªãŸã¯ã€€ã‚ãŸã—ã‚’ã€€ã³ã‚‡ã†ã„ã‚“ã¸ã€€ã¤ã‚Œã¦ã„ãã¾ã™ã‹ã€‚",
        "ã™ã¿ã¾ã›ã‚“ãŒã€ã²ã¨ã‚Šã§ã€€ã„ã‘ãªã„ã®ã§ã€€ã³ã‚‡ã†ã„ã‚“ã¸ã€€ã¤ã‚Œã¦ã„ã£ã¦ã„ãŸã ã‘ã¾ã›ã‚“ã‹ã€‚"
      ],
      "explanation": null
    },
    {
      "question": "ä¼šç¤¾ã‚„çµ„åˆã®æ—¥æœ¬äººã«ã€Œåˆã‚ã¾ã—ã¦ã€€å±±ç”°ï¼ˆä¾‹ï¼‰ã§ã™ã€‚ã‚ˆã‚ã—ãã€ã¨ã€€è¨€ã‚ã‚Œã¾ã—ãŸã€‚ä½•ã¨è¿”ã—ã¾ã™ã‹ã€‚\nà¹€à¸¡à¸·à¹ˆà¸­à¸„à¸™à¸à¸µà¹ˆà¸›à¸¸à¹ˆà¸™à¸—à¸µà¹ˆà¸šà¸£à¸´à¸©à¸±à¸—à¸«à¸£à¸·à¸­à¸ªà¸«à¸à¸£à¸“à¹Œà¸à¸¥à¹ˆà¸²à¸§à¸§à¹ˆà¸² 'à¸¢à¸´à¸™à¸”à¸µà¸—à¸µà¹ˆà¹„à¸”à¹‰à¸£à¸¹à¹‰à¸ˆà¸±à¸ à¸œà¸¡/à¸‰à¸±à¸™à¸Šà¸·à¹ˆà¸­à¸¢à¸²à¸¡à¸²à¸”à¸° à¸à¸²à¸à¹€à¸™à¸·à¹‰à¸­à¸à¸²à¸à¸•à¸±à¸§à¸”à¹‰à¸§à¸¢à¸™à¸°à¸„à¸£à¸±à¸š/à¸„à¸°' à¸„à¸¸à¸“à¸ˆà¸°à¸•à¸­à¸šà¸§à¹ˆà¸²à¸­à¸¢à¹ˆà¸²à¸‡à¹„à¸£?",
      "correct": [
        "ã“ã¡ã‚‰ã“ãã€ã©ã†ãã‚ˆã‚ã—ããŠã­ãŒã„ã—ã¾ã™ã€‚"
      ],
      "choices": [
        "ã¯ã„ã€ã‚ˆã‚ã—ãã€‚",
        "ã“ã¡ã‚‰ã“ãã€ã‚ˆã‚ã—ãã­ã€‚",
        "ã“ã¡ã‚‰ã“ãã€ã©ã†ãã‚ˆã‚ã—ããŠã­ãŒã„ã—ã¾ã™ã€‚",
        "ã¯ã„ã€ãŠã­ãŒã„ã—ã¾ã™ã€‚"
      ],
      "explanation": null
    },
    {
      "question": "ã‚ãªãŸã¯ã€€æ—¥æœ¬ã«ã€€ç€ãã¾ã—ãŸã€‚ç©ºæ¸¯ã«ã€€çµ„åˆã®æ–¹ãŒã€€è¿ãˆã«ãã¦ãã‚Œã¾ã—ãŸã€‚ã¾ãšã€€æœ€åˆã«ä½•ã¨ã€€è¨€ã„ã¾ã™ã‹ã€‚\nà¸„à¸¸à¸“à¸¡à¸²à¸–à¸¶à¸‡à¸›à¸£à¸°à¹€à¸—à¸¨à¸à¸µà¹ˆà¸›à¸¸à¹ˆà¸™à¹à¸¥à¹‰à¸§ à¸¡à¸µà¹€à¸ˆà¹‰à¸²à¸«à¸™à¹‰à¸²à¸—à¸µà¹ˆà¸ªà¸«à¸à¸£à¸“à¹Œà¸¡à¸²à¸£à¸±à¸šà¸—à¸µà¹ˆà¸ªà¸™à¸²à¸¡à¸šà¸´à¸™ à¸­à¸¢à¹ˆà¸²à¸‡à¹à¸£à¸à¸„à¸¸à¸“à¸ˆà¸°à¸à¸¹à¸”à¸§à¹ˆà¸²à¸­à¸°à¹„à¸£",
      "correct": [
        "ã‚€ã‹ãˆã«ãã¦ãã ã•ã£ã¦ã‚ã‚ŠãŒã¨ã†ã”ã–ã„ã¾ã™ã€‚ã“ã‚Œã‹ã‚‰ãŠã›ã‚ã«ãªã‚Šã¾ã™ã€‚ã©ã†ãã‚ˆã‚ã—ããŠã­ãŒã„ã—ã¾ã™ã€‚"
      ],
      "choices": [
        "ã„ã¾ã¾ã§ã€€ãŠã›ã‚ã«ã€€ãªã‚Šã¾ã—ãŸã€‚ãŠã‹ã‚‰ã ã«ã€€ãã‚’ã€€ã¤ã‘ã¦ãã ã•ã„ã€‚",
        "ãŸã‚“ã˜ã‚‡ã†ã³ã€€ãŠã‚ã§ã¨ã†ã”ã–ã„ã¾ã™ã€‚ã„ã„1ã­ã‚“ã«ã€€ãªã‚Šã¾ã™ã‚ˆã†ã«ã€‚",
        "à¸à¹ˆà¸­à¸™à¸­à¸·à¹ˆà¸™ à¹à¸™à¸°à¸™à¸³à¸•à¸±à¸§à¹€à¸­à¸‡à¹à¸šà¸šà¸¢à¸²à¸§à¹†",
        "ã‚€ã‹ãˆã«ãã¦ãã ã•ã£ã¦ã‚ã‚ŠãŒã¨ã†ã”ã–ã„ã¾ã™ã€‚ã“ã‚Œã‹ã‚‰ãŠã›ã‚ã«ãªã‚Šã¾ã™ã€‚ã©ã†ãã‚ˆã‚ã—ããŠã­ãŒã„ã—ã¾ã™ã€‚"
      ],
      "explanation": null
    },
    {
      "question": "ATPã‚„çµ„åˆã•ã‚“ã®å­¦æ ¡ã§ãŠå®¢ã•ã‚“ã‚„å…ˆç”Ÿã‹ã‚‰ã€Œå‹‰å¼·ã€é ‘å¼µã£ã¦ãã ã•ã„ã€ã¨è¨€ã‚ã‚Œã¾ã—ãŸã€‚ä½•ã¨ç­”ãˆã¾ã™ã‹ã€‚\nà¸—à¸µà¹ˆà¹‚à¸£à¸‡à¹€à¸£à¸µà¸¢à¸™à¸‚à¸­à¸‡ ATP à¸«à¸£à¸·à¸­à¸‚à¸­à¸‡à¸ªà¸«à¸à¸£à¸“à¹Œ à¹€à¸¡à¸·à¹ˆà¸­à¸¥à¸¹à¸à¸„à¹‰à¸²à¸«à¸£à¸·à¸­à¸„à¸£à¸¹à¸à¸¹à¸”à¸§à¹ˆà¸²ã¹ã‚“ãã‚‡ã†ã€ãŒã‚“ã°ã£ã¦ãã ã•ã„ã€‚à¸„à¸¸à¸“à¸ˆà¸°à¸•à¸­à¸šà¸§à¹ˆà¸²à¸­à¸¢à¹ˆà¸²à¸‡à¹„à¸£?",
      "correct": [
        "ã¯ã„ã€ãŒã‚“ã°ã‚Šã¾ã™ã€‚"
      ],
      "choices": [
        "ã¯ã„ã€ãŒã‚“ã°ã‚Šã¾ã—ã‚‡ã†ã€‚",
        "ã¯ã„ã€ãŒã‚“ã°ã‚ŠãŸã„ã§ã™ã€‚",
        "ã¯ã„ã€ãŒã‚“ã°ã£ã¦ã„ã¾ã™ã€‚",
        "ã¯ã„ã€ãŒã‚“ã°ã‚Šã¾ã™ã€‚"
      ],
      "explanation": null
    },
    {
      "question": "ã‚ãªãŸã¯ã€€ä¸Šå¸ã‚„æ—¥æœ¬äººã®å…ˆè¼©ã®è©±ã™ã®ãŒã€€æ—©ã™ãã¦ã€€èãå–ã‚Œã¾ã›ã‚“ã€‚ä½•ã¨ã€€è¨€ã„ã¾ã™ã‹ã€‚ï¼ˆæ­£ç­”3ã¤ï¼‰\nà¸«à¸±à¸§à¸«à¸™à¹‰à¸²à¸«à¸£à¸·à¸­à¸£à¸¸à¹ˆà¸™à¸à¸µà¹ˆà¸Šà¸²à¸§à¸à¸µà¹ˆà¸›à¸¸à¹ˆà¸™à¸à¸¹à¸”à¹€à¸£à¹‡à¸§à¹€à¸à¸´à¸™à¹„à¸›à¸ˆà¸™à¸„à¸¸à¸“à¸Ÿà¸±à¸‡à¹„à¸¡à¹ˆà¸—à¸±à¸™ à¸„à¸¸à¸“à¸ˆà¸°à¸à¸¹à¸”à¸§à¹ˆà¸²à¸­à¸¢à¹ˆà¸²à¸‡à¹„à¸£?(à¸„à¸³à¸•à¸­à¸šà¸—à¸µà¹ˆà¸–à¸¹à¸à¸•à¹‰à¸­à¸‡3à¸‚à¹‰à¸­)",
      "correct": [
        "ã™ã¿ã¾ã›ã‚“ã€‚ããã¨ã‚Œãªã‹ã£ãŸã®ã§ã€€ã‚‚ã†ã„ã¡ã©ã€€ãŠã­ãŒã„ã—ã¾ã™ã€‚",
        "ã™ã¿ã¾ã›ã‚“ãŒã€ã‚‚ã†ã„ã¡ã©ã€€ã‚†ã£ãã‚Šã€€ã¯ãªã—ã¦ã„ãŸã ã‘ã¾ã›ã‚“ã‹ã€‚",
        "ã™ã¿ã¾ã›ã‚“ãŒã€ã‚‚ã†ã™ã“ã—ã€€ã‚†ã£ãã‚Šã€€ã¯ãªã—ã¦ã„ãŸã ã‘ã¾ã›ã‚“ã‹ã€‚"
      ],
      "choices": [
        "ã™ã¿ã¾ã›ã‚“ãŒã€ã‚‚ã†ã™ã“ã—ã€€ã‚†ã£ãã‚Šã€€ã¯ãªã—ã¦ã„ãŸã ã‘ã¾ã›ã‚“ã‹ã€‚",
        "ã™ã¿ã¾ã›ã‚“ã€‚ããã¨ã‚Œãªã‹ã£ãŸã®ã§ã€€ã‚‚ã†ã„ã¡ã©ã€€ãŠã­ãŒã„ã—ã¾ã™ã€‚",
        "ã™ã¿ã¾ã›ã‚“ãŒã€ã‚‚ã†ã„ã¡ã©ã€€ã‚†ã£ãã‚Šã€€ã¯ãªã—ã¦ã„ãŸã ã‘ã¾ã›ã‚“ã‹ã€‚",
        "ã™ã¿ã¾ã›ã‚“ãŒã€ã‚‚ã†ã™ã“ã—ã€€ã‚†ã£ãã‚Šã€€ã¯ãªã—ã¾ã—ã‚‡ã†ã‹ã€‚"
      ],
      "explanation": null
    }
  ],
  "æ—¥å¸¸ç”Ÿæ´»ç·¨\nà¸«à¸¡à¸§à¸”à¸Šà¸µà¸§à¸´à¸•à¸›à¸£à¸°à¸ˆà¸³à¸§à¸±à¸™": [
    {
      "question": "ã‚ãªãŸã¯ã“ã‚Œã‹ã‚‰é›»è»Šã«ä¹—ã£ã¦ç§»å‹•ã—ã¾ã™ã€‚ã¾ãšSUICAï¼ˆäº¤é€šç³»ICã‚«ãƒ¼ãƒ‰ï¼‰ã‚’è²·ã„ãŸã„ã§ã™ãŒã€ã©ã“ã§è²·ãˆã‚‹ã‹ã‚ã‹ã‚Šã¾ã›ã‚“ã€‚é§…å“¡ã•ã‚“ã‚„å‘¨å›²ã®äººã«ä½•ã¨èãã¾ã™ã‹ã€‚\nà¸„à¸¸à¸“à¸à¸³à¸¥à¸±à¸‡à¸ˆà¸°à¹€à¸”à¸´à¸™à¸—à¸²à¸‡à¹‚à¸”à¸¢à¸£à¸–à¹„à¸Ÿ à¸­à¸¢à¸²à¸à¸‹à¸·à¹‰à¸­à¸šà¸±à¸•à¸£ SUICA (à¸šà¸±à¸•à¸£à¹€à¸•à¸´à¸¡à¹€à¸‡à¸´à¸™à¸ªà¸³à¸«à¸£à¸±à¸šà¹€à¸”à¸´à¸™à¸—à¸²à¸‡) à¹à¸•à¹ˆà¹„à¸¡à¹ˆà¸£à¸¹à¹‰à¸§à¹ˆà¸²à¸‹à¸·à¹‰à¸­à¹„à¸”à¹‰à¸—à¸µà¹ˆà¹„à¸«à¸™ à¸„à¸¸à¸“à¸ˆà¸°à¸–à¸²à¸¡à¹€à¸ˆà¹‰à¸²à¸«à¸™à¹‰à¸²à¸—à¸µà¹ˆà¸ªà¸–à¸²à¸™à¸µà¸«à¸£à¸·à¸­à¸„à¸™à¸£à¸­à¸š à¹† à¸§à¹ˆà¸²à¸­à¸¢à¹ˆà¸²à¸‡à¹„à¸£?",
      "correct": [
        "ã™ã¿ã¾ã›ã‚“ã€‚SUICAã‚’è²·ã„ãŸã„ã‚“ã§ã™ãŒã€ã©ã“ã§è²·ãˆã¾ã™ã‹ã€‚"
      ],
      "choices": [
        "ã™ã¿ã¾ã›ã‚“ã€‚SUICAã‚’è²·ã„ãŸã„ã‚“ã§ã™ãŒã€ã©ã“ã§è²·ãˆã¾ã™ã‹ã€‚",
        "ã™ã¿ã¾ã›ã‚“ã€‚SUICAã‚’ã‚‚ã£ã¦ã„ã¾ã™ã‹ã€‚",
        "ã™ã¿ã¾ã›ã‚“ã€‚SUICAã‚’è²·ã„ãŸã„ã‚“ã§ã™ãŒã€ã„ã¤è²·ãˆã¾ã™ã‹ã€‚",
        "ã™ã¿ã¾ã›ã‚“ã€‚SUICAã‚’è²·ã„ãŸã„ã‚“ã§ã™ã‹ã€‚"
      ],
      "explanation": null
    }
  ]
};

let currentQuestions = [];
let currentQuestionIndex = 0;
let score = 0;
let selectedAnswers = [];
let startTime, timerInterval;
const container = document.getElementById("container");
const timer = document.getElementById("timer");
let sakuraInterval;

function createSakura() {
  const sakura = document.createElement("div");
  sakura.className = "sakura";
  sakura.textContent = "ğŸŒ¸";
  sakura.style.left = Math.random() * 100 + "vw";
  sakura.style.animationDuration = (10 + Math.random() * 5) + "s";
  sakura.style.fontSize = (16 + Math.random() * 20) + "px";
  document.body.appendChild(sakura);
  setTimeout(() => sakura.remove(), 15000);
}

function startSakuraFall() {
  createSakura();
  sakuraInterval = setInterval(createSakura, 400);
}

function stopSakuraFall() {
  clearInterval(sakuraInterval);
  document.querySelectorAll(".sakura").forEach(el => el.remove());
}

function startCategory(name) {
  currentQuestions = allQuestions[name];
  currentQuestionIndex = 0;
  score = 0;
  startTime = Date.now();
  clearInterval(timerInterval);
  timerInterval = setInterval(() => {
    const elapsed = Math.floor((Date.now() - startTime) / 1000);
    timer.textContent = `æ™‚é–“: ${elapsed}ç§’`;
  }, 1000);
  showQuestion();
}

function showCategoryButtons() {
  stopSakuraFall();
  container.innerHTML = "";
  for (let key in allQuestions) {
    const btn = document.createElement("button");
    btn.className = "category-btn";
    btn.textContent = key;
    btn.onclick = () => startCategory(key);
    container.appendChild(btn);
  }
  timer.textContent = "æ™‚é–“: 0ç§’";
}

function showQuestion() {
  const q = currentQuestions[currentQuestionIndex];
  container.innerHTML = `<div id="question" style="white-space: pre-wrap; text-align:left; max-width:90vw; margin: 0 auto 20px auto;">${q.question}</div>`;
  selectedAnswers = [];
  const shuffled = [...q.choices].sort(() => Math.random() - 0.5);
  shuffled.forEach(choice => {
    const btn = document.createElement("div");
    btn.className = "choice";
    btn.textContent = choice;
    btn.onclick = () => handleChoice(btn, choice, q);
    container.appendChild(btn);
  });
}

function handleChoice(btn, choice, q) {
  if (selectedAnswers.includes(choice)) {
    selectedAnswers = selectedAnswers.filter(c => c !== choice);
    btn.classList.remove("chosen");
    return;
  }
  if (selectedAnswers.length >= q.correct.length) return;
  selectedAnswers.push(choice);
  btn.classList.add("chosen");

  if (selectedAnswers.length === q.correct.length) {
    document.querySelectorAll(".choice").forEach(b => b.classList.add("disabled"));
    selectedAnswers.forEach(sel => {
      const target = [...document.querySelectorAll(".choice")].find(b => b.textContent === sel);
      const mark = document.createElement("div");
      mark.className = "mark";
      mark.textContent = q.correct.includes(sel) ? "â—‹" : "Ã—";
      target.appendChild(mark);

if (q.correct.includes(sel)) {
  const speaker = document.createElement("span");
  speaker.className = "speaker-icon";
  speaker.textContent = "ğŸ”Š";
  speaker.style.cursor = "pointer";
  speaker.onclick = function() {
    const jaOnly = sel.split(/\n|ï¼ˆ|ã€‚|\(|\u3000|\s/)[0];
    const utter = new SpeechSynthesisUtterance(jaOnly);
    utter.lang = "ja-JP";
    speechSynthesis.cancel();  // ç›´å‰ã®éŸ³å£°ã‚’æ­¢ã‚ã‚‹
    speechSynthesis.speak(utter);
  };
  target.appendChild(speaker);
}



    });

    if (selectedAnswers.every(ans => q.correct.includes(ans))) score++;

    if (q.explanation) {
      const ex = document.createElement("div");
      ex.className = "explanation";
      ex.textContent = q.explanation;
      container.appendChild(ex);
    }

    const next = document.createElement("button");
    next.id = "next";
    next.textContent = "ã¤ãã¸";
    next.onclick = () => {
      currentQuestionIndex++;
      if(currentQuestionIndex < currentQuestions.length) showQuestion();
      else showResult();
    };
    container.appendChild(next);
  }
}

function showResult() {
  clearInterval(timerInterval);
  const percent = Math.round((score / currentQuestions.length) * 100);
  const timeTaken = Math.floor((Date.now() - startTime) / 1000);
  const today = new Date();
  const dateStr = `${today.getFullYear()}/${today.getMonth()+1}/${today.getDate()}`;
  container.innerHTML = `<p>æ—¥ä»˜: ${dateStr}</p><p>æ­£è§£æ•°ï¼š${score} / ${currentQuestions.length}</p><p>æ­£ç­”ç‡ï¼š${percent}%</p><p>å›ç­”æ™‚é–“ï¼š${timeTaken}ç§’</p>`;
  if (percent >= 90) startSakuraFall();

  const restart = document.createElement("button");
  restart.id = "restart";
  restart.textContent = "ã•ã„ã—ã‚‡ã‹ã‚‰";
  restart.onclick = () => {
    stopSakuraFall();
    showCategoryButtons();
  };
  container.appendChild(restart);
}

showCategoryButtons();
</script>
</body>
</html>
